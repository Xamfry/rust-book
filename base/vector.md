# Вектора

### `Что такое вектор`
`Векторы` - это множества/массивы с изменяемым размером.
Вектор может увеличиваться или уменьшаться в размере.

### `Создание вектора`
Создать вектор можно двумя способами:
  - с помощью макроса `vec!`
  - Vec::new()

### `Макрос vec!`
Чтобы создать вектор достаточно лишь использовать макрос vec! с перечислением элементов в `[]` скобках.
```rust
let vector = vec![1, 2, 3, 4, 5];
let vector_with_type: Vec<i32> = vec![1, 2, 3, 4, 5]; // name: Vec<typesize> 
println!("{:?}", vector);
```

### `Доступ к элементу вектора`
Мы можем получить доступ к элементу вектора через его индекс.
```rust
let vector = vec![1, 2, 3, 4, 5];
println!("{}", vector[2]); // 3
```

### `Вывод вектора`
Вектор можно вывести либо с помощью `{:?}`, либо через цикл.
```rust
let vector = vec![1, 2, 3, 4, 5];
println!("{:?}", vector);
for item in vector {
  println!("Элемент вектора: {}", item);
}
```

### `Методы, которые поддерживает вектор`
`Vec::new` - создание нового вектора.
```rust
let mut vec = Vec::new();
println!("Пустой вектор: {:?}", vec);
```

`push` и `pop` - добавляют и удаляют элемент из конца вектора.
```rust
let mut vec = Vec::new();
vec.push(1);
vec.push(2);
vec.push(3);
println!("{:?}", vec); // [1, 2, 3]
vec.pop();
println!("{:?}", vec); // [1, 2]
```

`remove` - удаляет элемент вектора по индексу.
```rust
let vector = vec![1, 2, 3, 4, 5];
vec.remove(2);
println!("{:?}", vec); // [1, 2, 4, 5]
```

`len` - выводит длину вектора.
```rust
let vector = vec![1, 2, 3, 4, 5];
println!("Длина вектора: {}", vector.len()); // 5
```

Также есть метод `contains`, который работает также как и со строками. Искомый элемент должен заиствоваться.
```rust
let vector = vec![1, 2, 3, 4, 5];
println!("Содержит ли вектора элемент {}: {}", 3, vector.contains(&3));
```

### `Итерация по вектору`
Иногда требуется получить доступ к каждому элементу вектора, не обращаясь к элеметам по индексу.

Для этого следует использовать встроенный метод `iter`.
А чтобы получить позицию элемента по имене можно использовать `position`.
```rust
let mut vec = vec![1, 2, 3, 4, 5];
let value = 2;
let index = vec.iter().position(|&r| r == value).unwrap();
vec.remove(index);
println!("{:?}", vec);
```
В листинге выше мы нашли итерировали вектор и на каждой итерации проверяли равняется ли элемент искомому. Метод `unwrap` будет рассмотрен в главе `Перечисления`.

Когда мы итерируем вектор через цикл `for`, мы не пишем iter, но компилятор подразумевает, что он там есть.
```rust
let vec = vec![1, 2, 3, 4, 5];
for i in vec.iter() {} // так тоже работает
```

Если мы хотим перебрать массив и изменить какой-то элемент мы должны использовать не `iter`, а `iter_mut`.
```rust
let mut vec = vec![1, 2, 3, 4, 5];
println!("Исходный вектор: {:?}", vec);
for x in vec.iter_mut() {
  *x = *= 3;
}
println!("Обновленный вектор: {:?}", vec);
```

### `Нарезка вектора`
Срез вектора - это способ получить некую часть вектора, не изменяя сам вектор. Чтобы создать срез нужно указать ссылку на тип данных и ссылку на сам вектор с указанием участка среза.
```rust
let vec = vec![1, 2, 3, 4, 5];
let slice: &[i32] = &vec[2..4];
println!("{:?}", vec);
```